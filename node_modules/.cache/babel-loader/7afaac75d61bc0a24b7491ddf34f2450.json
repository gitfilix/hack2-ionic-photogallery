{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rubendiaz/projects/hackaton/hack2-ionic-photogallery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rubendiaz/projects/hackaton/hack2-ionic-photogallery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/rubendiaz/projects/hackaton/hack2-ionic-photogallery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rubendiaz/projects/hackaton/hack2-ionic-photogallery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/rubendiaz/projects/hackaton/hack2-ionic-photogallery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/rubendiaz/projects/hackaton/hack2-ionic-photogallery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { WebPlugin } from '@capacitor/core';\nexport var GeolocationWeb = /*#__PURE__*/function (_WebPlugin) {\n  _inherits(GeolocationWeb, _WebPlugin);\n\n  var _super = _createSuper(GeolocationWeb);\n\n  function GeolocationWeb() {\n    _classCallCheck(this, GeolocationWeb);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GeolocationWeb, [{\n    key: \"getCurrentPosition\",\n    value: function () {\n      var _getCurrentPosition = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(options) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  navigator.geolocation.getCurrentPosition(function (pos) {\n                    resolve(pos);\n                  }, function (err) {\n                    reject(err);\n                  }, Object.assign({\n                    enableHighAccuracy: false,\n                    timeout: 10000,\n                    maximumAge: 0\n                  }, options));\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getCurrentPosition(_x) {\n        return _getCurrentPosition.apply(this, arguments);\n      }\n\n      return getCurrentPosition;\n    }()\n  }, {\n    key: \"watchPosition\",\n    value: function () {\n      var _watchPosition = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(options, callback) {\n        var id;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = navigator.geolocation.watchPosition(function (pos) {\n                  callback(pos);\n                }, function (err) {\n                  callback(null, err);\n                }, Object.assign({\n                  enableHighAccuracy: false,\n                  timeout: 10000,\n                  maximumAge: 0\n                }, options));\n                return _context2.abrupt(\"return\", \"\".concat(id));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function watchPosition(_x2, _x3) {\n        return _watchPosition.apply(this, arguments);\n      }\n\n      return watchPosition;\n    }()\n  }, {\n    key: \"clearWatch\",\n    value: function () {\n      var _clearWatch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(options) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function clearWatch(_x4) {\n        return _clearWatch.apply(this, arguments);\n      }\n\n      return clearWatch;\n    }()\n  }, {\n    key: \"checkPermissions\",\n    value: function () {\n      var _checkPermissions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var permission;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(typeof navigator === 'undefined' || !navigator.permissions)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw this.unavailable('Permissions API not available in this browser');\n\n              case 2:\n                _context4.next = 4;\n                return window.navigator.permissions.query({\n                  name: 'geolocation'\n                });\n\n              case 4:\n                permission = _context4.sent;\n                return _context4.abrupt(\"return\", {\n                  location: permission.state\n                });\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function checkPermissions() {\n        return _checkPermissions.apply(this, arguments);\n      }\n\n      return checkPermissions;\n    }()\n  }, {\n    key: \"requestPermissions\",\n    value: function () {\n      var _requestPermissions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                throw this.unimplemented('Not implemented on web.');\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function requestPermissions() {\n        return _requestPermissions.apply(this, arguments);\n      }\n\n      return requestPermissions;\n    }()\n  }]);\n\n  return GeolocationWeb;\n}(WebPlugin);\nvar Geolocation = new GeolocationWeb();\nexport { Geolocation };","map":{"version":3,"sources":["../../src/web.ts"],"names":[],"mappings":";;;;;;AAAA,SAAS,SAAT,QAA0B,iBAA1B;AAWA,WAAa,cAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,yFACE,iBAAyB,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,iDACS,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AACrC,kBAAA,SAAS,CAAC,WAAV,CAAsB,kBAAtB,CACE,UAAA,GAAG,EAAG;AACJ,oBAAA,OAAO,CAAC,GAAD,CAAP;AACD,mBAHH,EAIE,UAAA,GAAG,EAAG;AACJ,oBAAA,MAAM,CAAC,GAAD,CAAN;AACD,mBANH,EAMG,MAAA,CAAA,MAAA,CAAA;AAEC,oBAAA,kBAAkB,EAAE,KAFrB;AAGC,oBAAA,OAAO,EAAE,KAHV;AAIC,oBAAA,UAAU,EAAE;AAJb,mBAAA,EAKI,OALJ,CANH;AAcD,iBAfM,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFAoBE,kBACE,OADF,EAEE,QAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAIQ,gBAAA,EAJR,GAIa,SAAS,CAAC,WAAV,CAAsB,aAAtB,CACT,UAAA,GAAG,EAAG;AACJ,kBAAA,QAAQ,CAAC,GAAD,CAAR;AACD,iBAHQ,EAIT,UAAA,GAAG,EAAG;AACJ,kBAAA,QAAQ,CAAC,IAAD,EAAO,GAAP,CAAR;AACD,iBANQ,EAMR,MAAA,CAAA,MAAA,CAAA;AAEC,kBAAA,kBAAkB,EAAE,KAFrB;AAGC,kBAAA,OAAO,EAAE,KAHV;AAIC,kBAAA,UAAU,EAAE;AAJb,iBAAA,EAKI,OALJ,CANQ,CAJb;AAAA,4DAmBY,EAnBZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OApBF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFA0CE,kBAAiB,OAAjB;AAAA;AAAA;AAAA;AAAA;AACE,gBAAA,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,UAA7B,CAAwC,QAAQ,CAAC,OAAO,CAAC,EAAT,EAAa,EAAb,CAAhD;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA1CF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFA8CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACM,OAAO,SAAP,KAAqB,WAArB,IAAoC,CAAC,SAAS,CAAC,WADrD;AAAA;AAAA;AAAA;;AAAA,sBAEU,KAAK,WAAL,CAAiB,+CAAjB,CAFV;;AAAA;AAAA;AAAA,uBAK2B,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,KAA7B,CAAmC;AAC1D,kBAAA,IAAI,EAAE;AADoD,iBAAnC,CAL3B;;AAAA;AAKQ,gBAAA,UALR;AAAA,kDAQS;AAAE,kBAAA,QAAQ,EAAE,UAAU,CAAC;AAAvB,iBART;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA9CF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFAyDE;AAAA;AAAA;AAAA;AAAA;AAAA,sBACQ,KAAK,aAAL,CAAmB,yBAAnB,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAzDF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAoC,SAApC;AA8DA,IAAM,WAAW,GAAG,IAAI,cAAJ,EAApB;AAEA,SAAS,WAAT","sourceRoot":"","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class GeolocationWeb extends WebPlugin {\n    async getCurrentPosition(options) {\n        return new Promise((resolve, reject) => {\n            navigator.geolocation.getCurrentPosition(pos => {\n                resolve(pos);\n            }, err => {\n                reject(err);\n            }, Object.assign({ enableHighAccuracy: false, timeout: 10000, maximumAge: 0 }, options));\n        });\n    }\n    async watchPosition(options, callback) {\n        const id = navigator.geolocation.watchPosition(pos => {\n            callback(pos);\n        }, err => {\n            callback(null, err);\n        }, Object.assign({ enableHighAccuracy: false, timeout: 10000, maximumAge: 0 }, options));\n        return `${id}`;\n    }\n    async clearWatch(options) {\n        window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        const permission = await window.navigator.permissions.query({\n            name: 'geolocation',\n        });\n        return { location: permission.state };\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n}\nconst Geolocation = new GeolocationWeb();\nexport { Geolocation };\n//# sourceMappingURL=web.js.map"]},"metadata":{},"sourceType":"module"}